<p><em>by <a href="https://twitter.com/layoric">Darren Reid</a></em></p>

<h2>
<a id="user-content-deploying-and-installing-ssl-certificates-with-octopus-deploy" class="anchor" href="#deploying-and-installing-ssl-certificates-with-octopus-deploy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Deploying and Installing SSL certificates with Octopus Deploy</h2>

<p>There's a good chance at some stage you're going to want to have sensitive environment specific information that you don't to want to store in source control, especially if your project is open source. This could be SSL certificates, license information or Production AppSettings like private database passwords, production connection strings or anything else you need to run your application.</p>

<p>One solution is to package all application settings and other dependencies on the build server. Using <a href="http://www.jetbrains.com/teamcity/">TeamCity</a> and <a href="https://octopusdeploy.com/">Octopus Deploy</a>, packaging these settings up and deploying along with the application is easy to manage, flexible process that can streamline and automate even complicated application deployments.</p>

<p>Whilst the installation of SSL certificates, IIS bindings and other tasks here aren't time consuming to do manually, being able to get a new server up and running quickly by automating as much as possible has many benefits including consistent, replay-able deployments and not being tied to a particular infrastructure provider allowing you to easily switch to better valued hosting providers like <a href="http://www.hetzner.de/en/">Hetzner</a> should you wish to in future.</p>

<h2>
<a id="user-content-getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting started</h2>

<p>This example is going to be an extension on the pattern used in the <a href="https://github.com/ServiceStack/ServiceStack/wiki/Deploy-Multiple-Sites-to-single-AWS-Instance">Deploy multiple sites to a single AWS instance deployment guide</a>, but with an additional TeamCity step and a few extra process steps for Octopus Deploy to deploy an application with additional components and configuration.</p>

<ol>
<li>
<strong>Settings</strong> file read by ServiceStack application</li>
<li>ServiceStack <strong>license file</strong>
</li>
<li>
<strong>SSL certificate</strong> for HTTPs binding</li>
</ol>

<p>As an overview, the TeamCity steps for building and deploying a <strong>simple application</strong> goes something like:</p>

<h3>
<a id="user-content-teamcity-steps" class="anchor" href="#teamcity-steps" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><a href="https://github.com/ServiceStack/ServiceStack/wiki/Deploy-Multiple-Sites-to-single-AWS-Instance#teamcity-installation-and-setup">TeamCity Steps</a>
</h3>

<h4>
<a id="user-content-build-application" class="anchor" href="#build-application" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Build application</h4>

<ol>
<li>Restore NuGet dependencies </li>
<li>Package application into .nupkg</li>
</ol>

<h4>
<a id="user-content-deploy-application" class="anchor" href="#deploy-application" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Deploy application</h4>

<ol>
<li>Notify Octopus Deploy of new version available from TeamCity NuGet feed</li>
</ol>

<p>With the added settings package, we are adding an additional step to the Build application list above.</p>

<ol>
<li><strong>Package settings and other required environment files into .nupkg</strong></li>
<li>Restore NuGet dependencies </li>
<li>Package application into .nupkg</li>
</ol>

<h4>
<a id="user-content-creating-the-nuget-package" class="anchor" href="#creating-the-nuget-package" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Creating the NuGet package</h4>

<p>To package the files into a NuGet package we will need to create a <strong>nuspec</strong> file. A .nuspec file is a <a href="http://docs.nuget.org/docs/reference/nuspec-reference">package specification</a> that contains a list of files to include in the package, and this is where we have to specify the 3 files above, e.g:</p>

<div class="highlight highlight-text-xml"><pre>&lt;?<span class="pl-ent">xml</span><span class="pl-e"> version</span>=<span class="pl-s"><span class="pl-pds">"</span>1.0<span class="pl-pds">"</span></span>?&gt;
&lt;<span class="pl-ent">package</span> <span class="pl-e">xmlns</span>=<span class="pl-s"><span class="pl-pds">"</span>http://schemas.microsoft.com/packaging/2010/07/nuspec.xsd<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">metadata</span>&gt;
        &lt;<span class="pl-ent">id</span>&gt;BenchmarkAnalyzerSettings&lt;/<span class="pl-ent">id</span>&gt;
        &lt;<span class="pl-ent">version</span>&gt;1.0.0&lt;/<span class="pl-ent">version</span>&gt;
        &lt;<span class="pl-ent">authors</span>&gt;ServiceStack&lt;/<span class="pl-ent">authors</span>&gt;
        &lt;<span class="pl-ent">requireLicenseAcceptance</span>&gt;false&lt;/<span class="pl-ent">requireLicenseAcceptance</span>&gt;
        &lt;<span class="pl-ent">description</span>&gt;Settings for the Benchmark Analyzer project&lt;/<span class="pl-ent">description</span>&gt;
    &lt;/<span class="pl-ent">metadata</span>&gt;
    &lt;<span class="pl-ent">files</span>&gt;
      &lt;<span class="pl-ent">file</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>appsettings.license.txt<span class="pl-pds">"</span></span> /&gt;
      &lt;<span class="pl-ent">file</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>appsettings.txt<span class="pl-pds">"</span></span> /&gt;
      &lt;<span class="pl-ent">file</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>httpbenchmarks.pfx<span class="pl-pds">"</span></span> /&gt;
    &lt;/<span class="pl-ent">files</span>&gt;
&lt;/<span class="pl-ent">package</span>&gt;</pre></div>

<p>Once we have created a valid .nuspec file, we can get TeamCity to create a NuGet package using the <strong>NuGet Pack runner type</strong>. The main settings you will need for this configuration is the path where TeamCity can find the .nuspec file.</p>

<p>If you are hosting your own TeamCity instance, this is just a local directory. However, if you are hosting a TeamCity instance separately, eg on a dedicated build server, you will need to copy these files local to the build server to package them or use another VCS that is secure for application settings.</p>

<p>In this example, we will be packing the files from a known path on build server.</p>

<blockquote>
<p>If you are having issues with this step, check the file/folder permissions to the .nuspec and included files.</p>
</blockquote>

<p><a href="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/tc-nuget-pack.png" target="_blank"><img src="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/tc-nuget-pack.png" alt="" style="max-width:100%;"></a></p>

<p><strong>Output directory</strong> is the same as the <strong>Artifact paths</strong> in the <strong>General Settings</strong> of the build configuration for building the application package:</p>

<p><a href="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/tc-build-config-paths.png" target="_blank"><img src="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/tc-build-config-paths.png" alt="" style="max-width:100%;"></a></p>

<p>So now our build steps for our application build and packaging steps looks like:</p>

<p><a href="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/tc-build-config.png" target="_blank"><img src="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/tc-build-config.png" alt="" style="max-width:100%;"></a></p>

<p>If everything is building correctly, you should get two <strong>nupkg</strong> files as artifacts from the build configuration, your application and settings package:</p>

<p><a href="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/tc-project-output.png" target="_blank"><img src="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/tc-project-output.png" alt="" style="max-width:100%;"></a></p>

<p>If you are using TeamCity’s built in NuGet server, these packages are published are available to use from Octopus Deploy.</p>

<h2>
<a id="user-content-octopus-deploy-process-steps" class="anchor" href="#octopus-deploy-process-steps" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><a href="https://github.com/ServiceStack/ServiceStack/wiki/Deploy-Multiple-Sites-to-single-AWS-Instance#octopus-deploy-installation-and-initial-setup">Octopus Deploy process steps</a>
</h2>

<p>For a <a href="https://github.com/ServiceStack/ServiceStack/wiki/Deploy-Multiple-Sites-to-single-AWS-Instance#setting-up-octopus-deploy-projects">simple application</a> with no application settings or SSL certificate to install we only have 2 steps for Octopus Deploy.</p>

<p><a href="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/od-simple-example.png" target="_blank"><img src="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/od-simple-example.png" alt="" style="max-width:100%;"></a></p>

<p>However, due to the need to automate the installation of all the projects dependencies, we have to add at least another 3 steps. We will need the following list of steps to happen before our newly published application is being hosted with the right settings, license and SSL binding.</p>

<ol>
<li><strong>Publish settings package</strong></li>
<li><strong>Install SSL if required</strong></li>
<li>Deploy Application Package</li>
<li><strong>Copy Production Settings and License</strong></li>
<li>Update permissions</li>
</ol>

<h2>
<a id="user-content-publish-settings-package" class="anchor" href="#publish-settings-package" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Publish settings package</h2>

<p>Publish settings is a "<strong>Deploy Package</strong>" process step looking at the TeamCity NuGet feed and using the new "BenchmarkAnalyzerSettings" package.</p>

<p><a href="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/od-publish-settings.png" target="_blank"><img src="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/od-publish-settings.png" alt="Publish settings configuration" style="max-width:100%;"></a></p>

<blockquote>
<p>If you can’t see the <a href="https://github.com/ServiceStack/ServiceStack/wiki/Deploy-Multiple-Sites-to-single-AWS-Instance#octopus-deploy-installation-and-initial-setup">NuGet feed from TeamCity</a>, you need to <a href="http://docs.octopusdeploy.com/display/OD/Package+repositories">set up a new NuGet feed</a> under Library in Octopus Deploy.</p>
</blockquote>

<h2>
<a id="user-content-install-ssl-if-required" class="anchor" href="#install-ssl-if-required" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install SSL If Required</h2>

<p>Next we will need to install the SSL certificate if it is not already installed. To do this, we can add some PowerShell within the Octopus Deploy Library under <strong>Script Modules</strong>. A script module can be included in a process step, this gives you the chance to reuse some of the more common PowerShell between steps or projects. In this example, we are going to write some PowerShell to help us <strong>install the certificate</strong>.</p>

<div class="highlight highlight-source-powershell"><pre><span class="pl-k">function</span> <span class="pl-en">Add-SSLCertificateToIIS</span>{
    <span class="pl-k">param</span><span class="pl-k">(</span><span class="pl-e">[string]</span><span class="pl-k">$</span><span class="pl-smi">certPath</span><span class="pl-k">,</span><span class="pl-e">[string]</span><span class="pl-k">$</span><span class="pl-smi">pfxPassword</span><span class="pl-k">)</span>
    <span class="pl-c1">Write-Output</span> <span class="pl-s">"Importing certificate into ISS from <span class="pl-k">$</span><span class="pl-smi">certPath</span>"</span>
    <span class="pl-k">$</span><span class="pl-smi">certMgr</span> <span class="pl-k">=</span> <span class="pl-c1">New-Object</span> <span class="pl-k">-</span>ComObject IIS.CertObj <span class="pl-k">-</span>ErrorAction SilentlyContinue    
    <span class="pl-k">$</span><span class="pl-smi">certMgr</span><span class="pl-en">.ImportToCertStore</span><span class="pl-k">(</span><span class="pl-k">$</span><span class="pl-smi">certPath</span><span class="pl-k">,</span><span class="pl-k">$</span><span class="pl-smi">pfxPassword</span><span class="pl-k">,</span><span class="pl-k">$</span><span class="pl-c1">true</span><span class="pl-k">,</span><span class="pl-k">$</span><span class="pl-c1">true</span><span class="pl-k">)</span>
}</pre></div>

<p>This PowerShell function takes a path of a pfx file, a password and installs it to IIS to be used in a HTTPS binding.</p>

<p>Once we’ve added this script to a new Script module, we can <strong>call the function from a process step</strong>. If we add a new process step of "Install SSL If Required" and run another script that utilizes our new function, we can install the certificate that was packaged in our settings NuGet package.</p>

<p><a href="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/od-ssl-step.png" target="_blank"><img src="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/od-ssl-step.png" alt="" style="max-width:100%;"></a></p>

<p>The script in the screenshot above uses a couple of Octopus Deploy variables, as well as results from previous "Publish settings" step.</p>

<div class="highlight highlight-source-powershell"><pre><span class="pl-c1">Write-Output</span> <span class="pl-s">"Checking SSL certificate"</span>
<span class="pl-k">$</span><span class="pl-smi">cert</span> <span class="pl-k">=</span> <span class="pl-k">(</span> <span class="pl-c1">Get-ChildItem</span> <span class="pl-k">-</span>Path cert:\LocalMachine\My<span class="pl-k">|</span> <span class="pl-k">?</span> { <span class="pl-k">$</span><span class="pl-c1">_</span><span class="pl-en">.subject</span> <span class="pl-k">-like</span> <span class="pl-s">"*cn=<span class="pl-k">$</span><span class="pl-smi">CertCn</span>*"</span> }<span class="pl-k">)</span>
<span class="pl-k">if</span><span class="pl-k">(</span><span class="pl-k">!</span><span class="pl-k">$</span><span class="pl-smi">cert</span><span class="pl-k">)</span> {
    <span class="pl-c1">Write-Output</span> <span class="pl-s">"SSL certificate missing, installing..."</span>
    <span class="pl-k">$</span><span class="pl-smi">certDirPath</span> <span class="pl-k">=</span> <span class="pl-k">$</span><span class="pl-smi">OctopusParameters</span><span class="pl-e">[</span><span class="pl-s">'Octopus.Action[Publish settings].Output.Package.InstallationDirectoryPath'</span><span class="pl-e">]</span>
    <span class="pl-c1">Add-SSLCertificateToIIS</span> <span class="pl-s">"<span class="pl-k">$</span><span class="pl-smi">certDirPath</span>\<span class="pl-k">$</span><span class="pl-smi">CertFileName</span>"</span> <span class="pl-k">$</span><span class="pl-smi">SSLKey</span>
} <span class="pl-k">else</span> {
    <span class="pl-c1">Write-Output</span> <span class="pl-s">"SSL present, skipping installation..."</span>
}</pre></div>

<p><code>$SSLKey</code>, <code>$CertFileName</code> and <code>$CertCn</code> are all <strong>Octopus Deploy variables</strong> we have declared in the project variables section, we access them just like any declared PowerShell object.</p>

<p>The script itself is simply checking the <code>LocalMachine\My certificate</code> store that contains a specific string in the <strong>subject</strong> property, if no certificate that matches the CN value is present, it installs the certificate from where it was published using an encrypted password stored within Octopus Deploy.</p>

<p>Generally, this will only install the certificate once on first install of the new virtual machine, but will reinstall it if for whatever reason it has to be manually removed.</p>

<h2>
<a id="user-content-copy-production-settings-and-license" class="anchor" href="#copy-production-settings-and-license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Copy Production Settings and License</h2>

<p>The last new process step that is included is a straight forward copy from source location to a destination. This step happens <strong>after</strong> the deployment of the application as the destination is not yet known until this step has completed. </p>

<div class="highlight highlight-source-powershell"><pre><span class="pl-k">$</span><span class="pl-smi">src</span> <span class="pl-k">=</span> <span class="pl-k">$</span><span class="pl-smi">OctopusParameters</span><span class="pl-e">[</span><span class="pl-s">'Octopus.Action[Publish settings].Output.Package.InstallationDirectoryPath'</span><span class="pl-e">]</span>
<span class="pl-k">$</span><span class="pl-smi">dst</span> <span class="pl-k">=</span> <span class="pl-k">$</span><span class="pl-smi">OctopusParameters</span><span class="pl-e">[</span><span class="pl-s">'Octopus.Action[Deploy Package].Output.Package.InstallationDirectoryPath'</span><span class="pl-e">]</span>
<span class="pl-c1">Write-Output</span> <span class="pl-s">"Copying environment files from <span class="pl-k">$</span><span class="pl-smi">src</span> to <span class="pl-k">$</span><span class="pl-smi">dst</span>"</span>
<span class="pl-c1">Get-ChildItem</span> <span class="pl-k">$</span><span class="pl-smi">src</span> <span class="pl-k">|</span> <span class="pl-c1">Copy-Item</span> <span class="pl-k">-</span>Destination <span class="pl-k">$</span><span class="pl-smi">dst</span> <span class="pl-k">-</span>Exclude <span class="pl-s">"*.pfx"</span></pre></div>

<p>The script also <strong>excludes copying the pfx certificate</strong> as this is not something we want to host in IIS application. Another step that can be added is one to delete the SSL certificate after step installation so this exclusion wouldn’t be required. Thankfully, there are some templates for common tasks like deleting files are available to add to your Octopus Deploy instance from an <a href="https://github.com/OctopusDeploy/Library">open source project</a>. </p>

<p>Here is an example of the File System – Clean Directory template installed and used to clean pfx files from the output directory.</p>

<p><a href="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/od-clean-directory.png" target="_blank"><img src="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/od-clean-directory.png" alt="View of template once installed" style="max-width:100%;"></a></p>

<h2>
<a id="user-content-using-the-ssl-binding" class="anchor" href="#using-the-ssl-binding" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Using the SSL binding</h2>

<p>We can now set which binding to use in IIS in the Deploy Package step which deploys the main application. To use a specific SSL certificate you will need to provide the <strong>SSL Thumbprint</strong>. An easy way to find the Thumbprint of the certificate is to open the original <strong>.crt</strong> file, select the <strong>Details</strong> tab and select <strong>Properties Only</strong> from the <strong>Show</strong> drop down.</p>

<p>One you have this value, you will need to provide it in the Add binding menu when adding an IIS binding.</p>

<p><a href="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/od-add-binding-https.png" target="_blank"><img src="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/od-add-binding-https.png" alt="Add HTTPS IIS binding in deployment step" style="max-width:100%;"></a></p>

<p>This thumbprint associates the binding with the newly installed certificate. Once installed, the certificate will show up in the IIS Management window under Server Certificates and the specified website will have the HTTPS binding associated with the installed certificate.</p>

<p><a href="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/iis-certificates.png" target="_blank"><img src="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/iis-certificates.png" alt="IIS Manager after deployment" style="max-width:100%;"></a></p>

<h2>
<a id="user-content-http-binding-redirect" class="anchor" href="#http-binding-redirect" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>HTTP binding redirect</h2>

<p>So far we have setup all we need for the HTTPS binding, but since the default protocol when navigating to a site directly is HTTP, we want to setup a URL rewrite so that any requested resource on HTTP is redirected to HTTPS. To so this we will need to add some configuration in the Web.Config.Release transformation. </p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">system</span>.webServer&gt;

  &lt;<span class="pl-ent">rewrite</span> <span class="pl-e">xdt</span><span class="pl-e">:</span><span class="pl-e">Transform</span>=<span class="pl-s"><span class="pl-pds">"</span>Insert<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">rules</span>&gt;
      &lt;<span class="pl-ent">rule</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>Redirect to HTTPS<span class="pl-pds">"</span></span> <span class="pl-e">stopProcessing</span>=<span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">match</span> <span class="pl-e">url</span>=<span class="pl-s"><span class="pl-pds">"</span>(.*)<span class="pl-pds">"</span></span> /&gt;
        &lt;<span class="pl-ent">conditions</span>&gt;
          &lt;<span class="pl-ent">add</span> <span class="pl-e">input</span>=<span class="pl-s"><span class="pl-pds">"</span>{HTTPS}<span class="pl-pds">"</span></span> <span class="pl-e">pattern</span>=<span class="pl-s"><span class="pl-pds">"</span>^OFF$<span class="pl-pds">"</span></span> /&gt;
        &lt;/<span class="pl-ent">conditions</span>&gt;
        &lt;<span class="pl-ent">action</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>Redirect<span class="pl-pds">"</span></span> <span class="pl-e">url</span>=<span class="pl-s"><span class="pl-pds">"</span>https://{HTTP_HOST}/{R:1}<span class="pl-pds">"</span></span> <span class="pl-e">redirectType</span>=<span class="pl-s"><span class="pl-pds">"</span>SeeOther<span class="pl-pds">"</span></span> /&gt;
      &lt;/<span class="pl-ent">rule</span>&gt;
    &lt;/<span class="pl-ent">rules</span>&gt;
  &lt;/<span class="pl-ent">rewrite</span>&gt;

&lt;/<span class="pl-ent">system</span>.webServer&gt;</pre></div>

<p>This configuration uses an IIS module that may or may not be installed on your server. It can be installed via the <a href="http://www.microsoft.com/web/downloads/platform.aspx">Web Platform Installer</a> or installed separately, see the <a href="http://www.iis.net/downloads/microsoft/url-rewrite">IIS site for more details</a>.</p>

<p>We will <strong>also need a HTTP binding</strong> so the redirects can take place. IIS configuration in Octopus Deploy allows multiple IIS bindings for a deployed package. To add a HTTP binding, it is the same the same as step above, but selecting HTTP from the Protocol drop down.</p>

<h3>
<a id="user-content-managing-settings-files-yourself-vs-octopus-deploy-variables" class="anchor" href="#managing-settings-files-yourself-vs-octopus-deploy-variables" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Managing settings files yourself vs Octopus Deploy variables</h3>

<p>In this example we are storing both the application SSL certificate (.pfx file) for use with IIS, application settings and license in text files we are managing ourselves. To import a certificate and install it onto a new virtual machine we can’t get around the need to deploy the pfx file. However, there are many ways to handle application settings including the ServiceStack license.</p>

<p>Octopus Deploy has some really useful features when it comes to handling applications settings, even environment specific passwords etc. You could use this for storing the ServiceStack license itself as well as database credentials and other <a href="http://docs.octopusdeploy.com/display/OD/Security+and+encryption">sensitive information</a>. </p>

<p><a href="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/od-variables.png" target="_blank"><img src="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/od-variables.png" alt="Octopus Deploy Variables" style="max-width:100%;"></a></p>

<p>Although not used in this example, Octopus Deploy variables can replace web.config <code>appSettings</code> values and then can feed to <a href="https://github.com/ServiceStack/ServiceStack/wiki/AppSettings#example-usage">ServiceStack’s AppSettings and its more useful data-structures</a>.</p>

<p>To enable this functionality, remember to enable it in your application's deploy step.</p>

<p><a href="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/od-replace-app-settings.png" target="_blank"><img src="https://github.com/ServiceStack/Assets/raw/master/img/wikis/octopus-deploy-ssl/od-replace-app-settings.png" alt="" style="max-width:100%;"></a></p>
